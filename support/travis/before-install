#!/bin/sh

# This is the Webino Travis support script!
# Copyright (c) 2015-2017 Webino, s. r. o. (http://webino.sk/)
# Version: @@version@@

echo 'Updating Ubuntu 12.04 wget to 1.14 with SNI'
wget http://ppa.launchpad.net/nathan-renniewaldock/ppa/ubuntu/pool/main/w/wget/wget_1.14-1~ppa1~precise_amd64.deb
sudo dpkg -i wget_1.14-1~ppa1~precise_amd64.deb
sudo apt-get install -f

# general
wget https://deb.nodesource.com/setup_4.x -qO- | sudo bash
sudo apt-get install -y nodejs graphviz
sudo npm install webino-devkit -g --unsafe-perm
sudo chmod o+w /home/travis -R

[ "$BROWSER" = 'firefox' ] && wget @@host@@/seed/devkit/firefox -qO- | sh
[ "$BROWSER" = 'chrome' ]  && wget @@host@@/seed/devkit/chrome -qO- | sh

exit 0
